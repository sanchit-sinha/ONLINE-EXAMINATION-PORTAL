<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=`, initial-scale=1.0">
    <script type="text/javascript" src="http://latex.codecogs.com/latexit.js"></script>

    <title>Document</title>
</head>
<body>
    <div class="row">
        <div class="col-25">
        <label for="question">Question</label>
        </div>
        <div class="col-75">
        <textarea id="question_value" name="question" placeholder="Enter Question" style="height:200px"></textarea>
    </div>
    </div>
    <br><br>

    
    <div class="col-25">
        </div>
    <div class = "row">
        <div class="col-75">
        <button class = "block w3-blue" id="preview" name="preview" onclick = "preview();">PREVIEW</button>
        </div>
    </div>
    <br><br>    

    <div class="col-25">
    </div>
    <div class = "row">
    <div class="col-75">
        <div >
            <p id = "preview_here"></p>
        </div>
    </div>
</div>
<div lang="latex"> <br>\frac{1+sin(x)}{y}
    <br></div>


<script>
    function preview(){
        var mssg = document.getElementById("question_value").value;
        var n = mssg.length;

        var output = '';
        var start = '<img src="http://latex.codecogs.com/gif.latex?' ; 
        var end = '" border="0"/>';
        for(i = 0 ; i < n ; i++){
            if(mssg[i] != '$') output += mssg[i];
            else{
                i++;
                output += start;
                while(mssg[i] != '$'){
                    if(mssg[i] == '$') break;
                    output += mssg[i];
                    i++;
                }
                // output += '<br></div>';
                output +=  end;
            }
        }

        document.getElementById('preview_here').innerHTML  = output;
    }

</script>
</body>
</html>